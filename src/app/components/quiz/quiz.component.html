<ng-container *ngIf="questions$ | async; let questions; else: loading">
  <h4 *ngIf="checkAnswers">RESULTS</h4>
  <ng-container *ngFor="let question of questions">
    <app-quiz-row
      [question]="question"
      [checkAnswers]="checkAnswers"
      (answer)="setAnswer($event)"
    ></app-quiz-row>
  </ng-container>

  <span class="score-wrapper" *ngIf="(numberOfSubmissions$ | async) >= 5">
    You scored {{ numberOfCorrectSubmissions$ | async }} out of
    {{ numberOfSubmissions$ | async }}
  </span>

  <button
    *ngIf="(numberOfSubmissions$ | async) >= 5 && !checkAnswers"
    (click)="checkAnswers = !checkAnswers"
    class="app-button"
    mat-raised-button
    color="primary"
  >
    SUBMIT
  </button>
</ng-container>

<ng-template #loading>
  <!-- Material Progress Bar -->
  <mat-card>
    <mat-card-content>
      <label>
        Indeterminate progress-bar
        <mat-progress-bar
          class="app-progress"
          mode="indeterminate"
          aria-label="Indeterminate progress-bar example"
        ></mat-progress-bar>
      </label>
    </mat-card-content>
  </mat-card>
  <!-- /Material Progress Bar -->
</ng-template>
